import React from 'react'
import { connect } from 'react-redux'
import { signout }  from 'actions'
import { Link } from 'react-router'


const  Menu = ( props ) =>{

    return (
        <div>
            <div className="menu-overlay">
                <div className="wrapper">
                    <span className="index-header-logo"><b>bax</b> cap <img src="/img/funds.svg" width={33} alt="" /></span>
                    <div className="index-header-menu">
                        <ul className="index-main-menu">
                            <li><Link to='/'>Home</Link></li>|
                            <li><Link to='/fund'><img src="/img/case1.svg" width={25} alt="fund" />Fund</Link></li>
                            <li><Link to='/trade/ethereum'><img src="/img/trade.svg" width={25} alt="trade" />Trade</Link></li>
                            <li><Link to='/news'><img src="/img/newspaper.svg" width={25} alt="market" />News</Link></li>
                            {(!props.hideButton) ? null : <li> <Link to="/profile-balance"><img src="/img/male-user (1).svg" width={25} alt="login" />profile</Link></li>}
                        </ul>{/* index-main-menu */}
                        {(!props.hideButton)?
                            <ul className="index-main-login">
                                <li><Link to="/login"><img src="/img/login.svg" width={25} alt="login" />sign in</Link></li>
                                <li><Link to="/signup"><img src="/img/login.svg" width={25} alt="login" />sign up</Link></li>
                            </ul>
                            :

                            <ul className="index-main-login">
                                
                                <li><a href="/" onClick={props.signout}><img src="/img/login.svg" width={25} alt="sign out" />sign out</a></li>
                            </ul>
                        }
                        {/* idnex-main-login */}
                    </div>{/* index-header-menu */}
                    <div className="mobile-menu">
                        <input type="checkbox" className="mobile-checkbox" id="checkbox" />
                        <label htmlFor="checkbox" className="mobile-label" />
                        <div className="menu-dropdown">
                            <ul>
                                <li><Link to='/'>Home</Link></li>
                            <li><Link to='/fund'><img src="/img/case1.svg" width={25} alt="fund" />Fund</Link></li>
                            <li><Link to='/trade/ethereum'><img src="/img/trade.svg" width={25} alt="trade" />Trade</Link></li>
                            <li><Link to='/news'><img src="/img/newspaper.svg" width={25} alt="market" />News</Link></li>
                                {(!props.hideButton) ? null : <li> <Link to="/profile-balance"><img src="/img/male-user (1).svg" width={25} alt="login" />profile</Link></li>}

                                {(!props.hideButton)?
                                    <li><Link to="/login"><img src="/img/login.svg" width={25} alt="login" />Login</Link></li>
                                    : null}
                                {(!props.hideButton)?
                                    <li><Link to="/signup"><img src="/img/signin.svg" width={25} alt="signin" />Sign Up</Link></li>
                                    :  <li><Link to="/" onClick={props.signout}><img src="/img/login.svg" width={25} alt="sign out" />sign out</Link></li>
                                }


                            </ul>
                        </div>{/* menu-dropdown */}
                    </div>{/* mobile-menu */}
                </div>{/* wrapper */}
            </div>{/* menu-overlay */ }</div>
    )
}




Menu.defaultProps = {
    signUpButton : true
}

/*Удалить эту константу, когда уберется перезагрузка страниц
const mapStateToProps = state => {

    if (localStorage['do-go']) {
        return ({hideButton: true})
    }
    else {
        return ({hideButton: false})
    }


}
*////////////////////////////////////////////////////////


//Раскомментировать эту константу, когда уберется перезагрузка страниц
const mapStateToProps = state => ({
   hideButton : state.auth.hideButton
})
///

const mapDispatchToProps = {
    signout
}

export default connect(mapStateToProps, mapDispatchToProps)(Menu)